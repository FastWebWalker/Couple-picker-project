@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: 30 40% 98%;
  --foreground: 222 47% 11%;
  --card: 0 0% 100%;
  --card-foreground: 222 47% 11%;
  --popover: 0 0% 100%;
  --popover-foreground: 222 47% 11%;
  --primary: 18 85% 55%;
  --primary-foreground: 0 0% 100%;
  --secondary: 210 40% 96%;
  --secondary-foreground: 222 47% 11%;
  --muted: 210 40% 96%;
  --muted-foreground: 215 20% 35%;
  --accent: 35 92% 90%;
  --accent-foreground: 222 47% 11%;
  --destructive: 0 72% 51%;
  --destructive-foreground: 0 0% 100%;
  --border: 214 32% 91%;
  --input: 214 32% 91%;
  --ring: 18 85% 55%;
  --radius: 18px;
}

.dark {
  --background: 222 47% 8%;
  --foreground: 210 40% 98%;
  --card: 222 47% 12%;
  --card-foreground: 210 40% 98%;
  --popover: 222 47% 12%;
  --popover-foreground: 210 40% 98%;
  --primary: 20 88% 58%;
  --primary-foreground: 0 0% 100%;
  --secondary: 220 32% 18%;
  --secondary-foreground: 210 40% 98%;
  --muted: 220 32% 18%;
  --muted-foreground: 215 20% 70%;
  --accent: 20 50% 20%;
  --accent-foreground: 210 40% 98%;
  --destructive: 0 74% 54%;
  --destructive-foreground: 0 0% 100%;
  --border: 220 32% 18%;
  --input: 220 32% 18%;
  --ring: 20 88% 58%;
}

* {
  @apply border-border;
}

body {
  @apply bg-background text-foreground antialiased;
  font-family: var(--font-manrope), ui-sans-serif, system-ui, sans-serif;
}

.font-display {
  font-family: var(--font-playfair), ui-serif, Georgia, serif;
}

.glass {
  @apply bg-white/70 dark:bg-white/5 backdrop-blur-xl border border-white/20 shadow-soft;
}

.grid-tile {
  @apply rounded-2xl border border-white/30 bg-white/70 text-foreground dark:bg-white/5 dark:text-white/90;
}

@keyframes rise {
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.card-animate {
  transform: translateY(8px);
  opacity: 0;
  animation: rise 0.7s ease-out forwards;
}

.card-folder {
  position: relative;
  overflow: hidden;
  transform-style: preserve-3d;
  perspective: 1200px;
}

.card-folder::before,
.card-folder::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  transition: transform 0.25s ease, opacity 0.25s ease;
}

.card-folder::before {
  transform-origin: top;
  transform: rotateX(0deg) translateY(0);
  background: linear-gradient(
      180deg,
      rgba(255, 220, 170, 0.7),
      rgba(255, 190, 120, 0.35) 45%,
      transparent 70%
    ),
    linear-gradient(120deg, rgba(255, 255, 255, 0.6), transparent 45%);
  opacity: 0.25;
}

.card-folder::after {
  transform-origin: bottom;
  transform: rotateX(0deg) translateY(0);
  background: repeating-linear-gradient(
      0deg,
      rgba(255, 255, 255, 0.55),
      rgba(255, 255, 255, 0.55) 3px,
      rgba(255, 200, 140, 0.18) 3px,
      rgba(255, 200, 140, 0.18) 6px
    ),
    radial-gradient(circle at 20% 80%, rgba(255, 210, 150, 0.35), transparent 55%);
  opacity: 0.12;
}

.card-folder:hover::before {
  animation: cover-open 0.7s cubic-bezier(0.2, 0.8, 0.1, 1) forwards;
  opacity: 0.8;
}

.card-folder:hover::after {
  animation: pages-fan 0.85s cubic-bezier(0.2, 0.8, 0.1, 1) forwards;
  opacity: 0.45;
  background-position: 0 0;
}

.card-folder:active {
  transform: translateY(2px) scale(0.995);
  transition-duration: 0.12s;
}

.card-folder:hover {
  filter: saturate(1.05);
}

@keyframes cover-open {
  0% {
    transform: rotateX(0deg) translateY(0);
  }
  40% {
    transform: rotateX(-35deg) translateY(-6px);
  }
  100% {
    transform: rotateX(-65deg) translateY(-10px);
  }
}

@keyframes pages-fan {
  0% {
    transform: rotateX(0deg) translateY(0);
    background-position: 0 40%;
  }
  60% {
    transform: rotateX(22deg) translateY(6px);
    background-position: 0 60%;
  }
  100% {
    transform: rotateX(35deg) translateY(10px);
    background-position: 0 100%;
  }
}
